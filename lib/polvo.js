// Generated by CoffeeScript 1.6.3
(function() {
  var Cli, debug, error, info, log, version, warn, _ref;

  (require('source-map-support')).install({
    handleUncaughtExceptions: false
  });

  version = require('./utils/version');

  log = require('./utils/log')('polvo');

  _ref = log, error = _ref.error, warn = _ref.warn, info = _ref.info, debug = _ref.debug, log = _ref.log;

  Cli = require('./cli');

  module.exports = function(options) {
    var argv, cli, compiler, server;
    argv = (cli = new Cli(options)).argv;
    if (argv.version) {
      return log(version);
    }
    if (argv.compile || argv.watch || argv.release) {
      log('Initializing..'.grey);
      compiler = require('./core/compiler');
    }
    if (argv.server) {
      server = require('./core/server');
    }
    if (argv.compile || argv.watch) {
      compiler.build();
      if (argv.server) {
        server();
      }
      return;
    }
    if (argv.release) {
      compiler.release();
      if (argv.server) {
        server();
      }
      return;
    }
    return log(cli.help());
  };

}).call(this);

/*
//@ sourceMappingURL=polvo.map
*/
